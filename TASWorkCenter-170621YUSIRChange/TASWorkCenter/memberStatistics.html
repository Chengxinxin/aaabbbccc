<!DOCTYPE html>
<html>

	<head>
		<meta charset="UTF-8">
		<!--Edge 模式通知 IE以最高级别的可用模式显示内容。即如果你有IE11的话那么就调用高版本的那个也就是IE11。-->
		<meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
		<title>TAS Work Center</title>
		<link rel="stylesheet" type="text/css" href="js/bootstrap.min.css" />
		<script src="js/jquery-3.1.1.min.js"></script>
		<script type="text/javascript" src="js/bootstrap.min.js"></script>

		<script type="text/javascript" src="js/menu.js"></script>
		<link rel="stylesheet" type="text/css" href="css/baseStyle.css" />
		<link rel="stylesheet" type="text/css" href="css/main.css" />
		<!-- 评分样式 -->
		<link rel="stylesheet" type="text/css" href="css/starGradeStyle.css" />
		<script type="text/javascript" src="js/comment.js"></script>
		<!--表格cssjs-->
		<link rel="stylesheet" type="text/css" href="js/bootstrap-table.css" />
		<script src="js/bootstrap-table.js" type="text/javascript" charset="utf-8"></script>
		<script src="js/bootstrap-table-zh-CN.js" type="text/javascript" charset="utf-8"></script>
		<link rel="stylesheet" type="text/css" href="css/tableStyle.css" />

		<link href="js/Fliter.css" rel="stylesheet" />
		<script src="js/Filter.js"></script>
		<!--多选插件-->
		<link rel="stylesheet" type="text/css" href="js/bootstrap-select.min.css" />
		<script src="js/bootstrap-select.min.js"></script>
		<script src="js/vue.min.js" type="text/javascript" charset="utf-8"></script>
		
		<style type="text/css">
			table thead {
				background-color: #5e98f8;
				color: #fff;
				border-bottom-width: 10;
			}
		</style>
	</head>

	<body>
		<div class="header">
			<div class="header_logo">
				<div class="logo">
					<img src="img/logo.png" />
				</div>
				<div class="title">
					<h1>并联科技个人工作中心</h1>
				</div>
			</div>
			<div class="userInfo">
				<h4><span class="glyphicon glyphicon-user" aria-hidden="true"></span> 姓名:</h4>
				<p>Neo</p>
				<h4><span class="glyphicon glyphicon-fire" aria-hidden="true"></span> 部门:</h4>
				<p>开发部</p>
				<h4><span class="glyphicon glyphicon-briefcase" aria-hidden="true"></span> 职位:</h4>
				<p>前端工程师</p>
				<a href="index.html"><span class="glyphicon glyphicon-home" aria-hidden="true"></span> 个人中心</a>
				<a href="login.html"><span class="glyphicon glyphicon-off" aria-hidden="true"></span> 注销</a>
			</div>
		</div>
		<div class="mainContent">
			<div class="leftNav">
				<!-- Contenedor -->
				<ul id="accordion" class="accordion">
					<li>
						<div class="link"><i class="glyphicon glyphicon-tasks"></i>个人中心 <i class="glyphicon glyphicon-menu-down"></i></div>
						<ul class="submenu">
							<li>
								<span class="glyphicon glyphicon-home" aria-hidden="true"></span>
								<a href="index.html">我的主页</a>
							</li>
							<li>
								<span class="glyphicon glyphicon-road" aria-hidden="true"></span>
								<a href="myTasks.html">我的任务</a>
							</li>
							<li>
								<span class="glyphicon glyphicon-cog" aria-hidden="true"></span>
								<a href="mySettings.html">我的设置</a>
							</li>
						</ul>
					</li>
					<li>
						<div class="link"><i class="glyphicon glyphicon-list-alt" aria-hidden="true"></i> 工作任务 <i class="glyphicon glyphicon-menu-down"></i></div>
						<ul class="submenu">
							<li>
								<span class="glyphicon glyphicon-pencil" aria-hidden="true"></span>
								<a href="createNewWorkGate.html">创建新工作</a>
							</li>
							<li>
								<span class="glyphicon glyphicon-eye-open" aria-hidden="true"></span>
								<a href="reviewTask.html">考核审批</a>
							</li>
							<li>
								<span class="glyphicon glyphicon-list" aria-hidden="true"></span>
								<a href="arrangedWork.html">待安排工作</a>
							</li>
						</ul>
					</li>
					<li>
						<div class="link"><i class="glyphicon glyphicon-folder-close"></i>合约管理 <i class="glyphicon glyphicon-menu-down"></i></div>
						<ul class="submenu">
							<li>
								<span class="glyphicon glyphicon-pushpin" aria-hidden="true"></span>
								<a href="myContractManagement.html">我的合约</a>
							</li>
							<li>
								<span class="glyphicon glyphicon-folder-open" aria-hidden="true"></span>
								<a href="createContractManagement.html">新建合约</a>
							</li>
							<li>
								<span class="glyphicon glyphicon-retweet" aria-hidden="true"></span>
								<a href="contractManagement.html">服务合约</a>
							</li>
						</ul>
					</li>
					<li>
						<div class="link"><i class="glyphicon glyphicon-link"></i>服务管理 <i class="glyphicon glyphicon-menu-down"></i></div>
						<ul class="submenu">
							<li>
								<span class="glyphicon glyphicon-bookmark" aria-hidden="true"></span>
								<a href="serviceManagementCustomerCenter.html">客户服务中心</a>
							</li>
							<li>
								<span class="glyphicon glyphicon-indent-right" aria-hidden="true"></span>
								<a href="ServiceManagerServiceStandards.html">服务标准管理</a>
							</li>
						</ul>
					</li>
					<!--<li>
						<div class="link"><i class="glyphicon glyphicon-fire"></i>评价 <i class="glyphicon glyphicon-menu-down"></i></div>
						<ul class="submenu">
							<li>
								<span class="glyphicon glyphicon-star-empty" aria-hidden="true"></span>
								<a href="evaluatedTask.html">待评价任务</a>
							</li>
							<li>
								<span class="glyphicon glyphicon-star" aria-hidden="true"></span>
								<a href="ViewJobEvaluation.html">任务工作评价</a>
							</li>
						</ul>
					</li>-->
					<li>
						<div class="link"><i class="glyphicon glyphicon-leaf"></i>统计 <i class="glyphicon glyphicon-menu-down"></i></div>
						<ul class="submenu">
							<li>
								<span class="glyphicon glyphicon-stats" aria-hidden="true"></span>
								<a href="taskWorkStatistics.html">工作任务统计</a>
							</li>
							<li>
								<span class="glyphicon glyphicon-align-justify" aria-hidden="true"></span>
								<a href="memberStatistics.html">员工管理</a>
							</li>
						</ul>
					</li>
				</ul>
				<p id="time"></p>
			</div>
			<div class="rightContent">
				<!--面包屑-->
				<ol class="breadcrumb">
					<li>
						<a href="#">统计</a>
					</li>
					<li class="active">员工管理</li>
				</ol>

				<!--标签-->
				<ul id="tabs">
					<li>
						<a href="#" class="tab_click" name="#tab1">员工信息列表</a>
					</li>
					<li>
						<a href="#" class="tab_click" name="#tab2">员工权限列表</a>
					</li>
					<li>
						<a href="memberStatistics_gate.html" name="#tab3">属性管理</a>
					</li>

				</ul>

				<div id="content">
					<div id="tab1">
						<div id="toolbar" class="btn-group" style="display: none;">
							<button id="btn_add" type="button" class="btn btn-default">
                		<span class="glyphicon glyphicon-plus" aria-hidden="true"></span>新增</button>
							<button id="btn_edit" type="button" class="btn btn-default">
                		<span class="glyphicon glyphicon-pencil" aria-hidden="true"></span>修改</button>
							<button id="btn_delete" type="button" class="btn btn-default">
                		<span class="glyphicon glyphicon-remove" aria-hidden="true"></span>删除</button>
						</div>
						<table id="employeeTable">
						</table>
					</div>
					<div id="tab2">
						<style type="text/css">
							#employeeRightsTable tbody tr .setRights {
								font-size: 10px;
							}
							
							#employeeRightsTable tbody tr .setRights2 {
								font-size: 14px;
								padding-left: 15px;
								text-align: center;
							}
							
							#employeeRightsTable tbody tr .setRights2 .checkbox-inline {
								padding: 0px;
								text-align: center;
								margin-left: 13px;
							}
							
							#employeeRightsTable tbody tr .rightsEdit_btn {
								text-align: center;
							}
							
							#employeeRightsTable tbody tr .setRights .checkbox-inline {
								padding-left: 12px;
								margin-left: 0px;
							}
							
							#employeeRightsTable tbody tr .setRights .checkbox-inline input[type=checkbox] {
								margin-left: -13px;
							}
						</style>

						<script type="text/javascript">
							selectRightsArray = new Array();
							arrayData = [{
									"id": 1,
									"text": "管理员"
								},
								{
									"id": 2,
									"text": "工程师"
								},
								{
									"id": 3,
									"text": "销售"
								},
								{
									"id": 4,
									"text": "人事"
								}, {
									"id": 5,
									"text": "行政"
								},
								{
									"id": 6,
									"text": "销售专员"
								}, {
									"id": 7,
									"text": "销售经理"
								},
								{
									"id": 8,
									"text": "服务专员"
								}, {
									"id": 9,
									"text": "服务经理"
								}
							];
							$(function() {
								//模态框三确认修改用户权限
								$('#confirm_editUserRight').on('click', function() {
									var resultStr = '已拥有权限：';
									var tempArray = new Array();
									var words = selectRightsArray[0]; //select中只存在一个对象
									var newwords = words.split(',') //按，分割生成数组newwords

									console.log(newwords);

									for(var i = 0; i < newwords.length; i++) {
										var num = parseInt(newwords[i]);
										console.log(num);
										resultStr += arrayData[num - 1].text + "  ";
									}
									console.log(resultStr);
									$("#myModal3").modal('hide')
									$('.select').children().eq(1).text(resultStr);
									$('.select').removeClass("select");
								});
								$('.right_edit').on('click', function() {
									$("#myModal3").modal('show')
									$('.J_FilterQueryClear').trigger("click"); //模拟点击全部删除，来达到重置效果
									$(this).parent().parent().addClass('select');
								});
								var data = arrayData; //角色数组赋值
								//例子1
								//多选
								$('#demo1').comboboxfilter({
									url: '',
									data: data,
									unlimit: false,
									multiple: true,
									onChange: function(newValue) {
										var tempArrayData = [];
										console.log("新选择的值" + newValue);
										tempArrayData.push(newValue);
										//										console.log(tempArrayData);
										selectRightsArray = tempArrayData;
										console.log(selectRightsArray);
									}
								});

							});
						</script>

						<!--<div class="table-responsive">-->
						<table class="table table-bordered table-hover table-striped" id="employeeRightsTable">
							<thead>
								<tr>
									<th class="col-md-2">姓名</th>
									<th class="col-md-8">权限</th>
									<th class="col-md-2">修改</th>
								</tr>
							</thead>
							<tbody>
								<tr>
									<td class="setRights2">Tanmay</td>
									<td class="setRights2">
										已拥有权限：管理员 工程师

									</td>
									<td class="rightsEdit_btn">
										<input type="button" class="btn btn-primary btn-xs right_edit" name="right_edit" value="点击修改" />
									</td>

								</tr>
								<tr>
									<td class="setRights2">Sachin</td>
									<td class="setRights2">
										已拥有权限：销售经理

									</td>
									<td class="rightsEdit_btn">
										<input type="button" class="btn btn-primary btn-xs right_edit" name="right_edit" value="点击修改" />
									</td>
								</tr>
								<tr>
									<td class="setRights2">Uma</td>
									<td class="setRights2">
										已拥有权限：销售
									</td>
									<td class="rightsEdit_btn">
										<input type="button" class="btn btn-primary btn-xs right_edit" name="right_edit" value="点击修改" />
									</td>
								</tr>
							</tbody>
						</table>
						<!--</div>-->
					</div>
					<!--tab2-->
					
					
				</div>

			</div>
		</div>
		<script type="text/javascript">
			var $table = $('#employeeTable');
			var $rightsTable = $('#employeeRightsTable');
			$(function() {
				$('#toolbar').show();
				$table.bootstrapTable({
					toolbar: '#toolbar', //工具按钮用哪个容器
					striped: true, //是否显示行间隔色
					cache: false, //是否使用缓存，默认为true，所以一般情况下需要设置一下这个属性（*）
					pageList: [5, 10, 25, 50], //可供选择的每页的行数（*）
					search: true, //是否显示表格搜索，此搜索是客户端搜索，不会进服务端，所以，个人感觉意义不大
					pagination: true, //是否显示分页（*）
					sidePagination: "client", //分页方式：client客户端分页，server服务端分页（*）
					pageNumber: 1, //初始化加载第一页，默认第一页
					pageSize: 10, //每页的记录行数（*）
					paginationPreText: '上一页',
					paginationNextText: '下一页',
					uniqueId: "id", //每一行的唯一标识，一般为主键列
					clickToSelect: true, //是否启用点击选中行
					cardView: false, //是否显示详细视图
					showColumns: true, //是否显示所有的列
					showRefresh: true, //是否显示刷新按钮
					minimumCountColumns: 2, //最少允许的列数
					//				height: 550, //行高，如果没有设置height属性，表格自动根据记录条数觉得表格高度
					columns: [{
						checkbox: true
					}, {
						field: 'username',
						title: '姓名',
						align: 'center',
						valign: 'middle',
						titleTooltip: '员工姓名'
					}, {
						field: 'department',
						title: '部门',
						align: 'center',
						valign: 'middle',
						titleTooltip: '所属部门名称',
						sortable: true,
					}, {
						field: 'userposition',
						title: '职位',
						align: 'center',
						valign: 'middle',
						sortable: true,
					}, {
						field: 'phone',
						title: '联系电话',
						align: 'center',
						valign: 'middle',
					}, {
						field: 'usercreatetime',
						title: '创建时间',
						align: 'center',
						valign: 'middle',
						sortable: true,
					}, {
						field: 'mail',
						title: '邮箱',
						align: 'center',
						valign: 'middle',
					}, {
						field: 'userstatus',
						title: '状态',
						align: 'center',
						valign: 'middle',
						sortable: true,
					}],
					data: [{
						id: 1,
						user: 'neo',
						username: '于桂成',
						department: '软件开发部',
						userposition: '开发工程师',
						phone: '23333333333',
						usercreatetime: '2017-04-01',
						mail: 'yu@tasit.cn',
						userstatus: '正常',
						//需要提供工作属性
						workProperty: '属性1,属性2,属性3', //工作属性
						abilityAttributes: '产品1,产品2,产品3', //技能属性
						//						$('.selectpicker').selectpicker('val', ['Mustard','Relish']);
					}, {
						id: 2,
						user: 'neo',
						username: '于桂成',
						department: '技术服务部',
						userposition: '运维工程师',
						phone: '23333333333',
						usercreatetime: '2017-04-01',
						userstatus: '正常',
						mail: 'yu@tasit.cn',
						workProperty: '属性1,属性2,属性3', //工作属性
						abilityAttributes: '产品1,产品2,产品8', //技能属性
					}, {
						id: 3,
						user: 'neo',
						username: '于桂成',
						department: '销售部',
						userposition: '销售',
						phone: '23333333333',
						usercreatetime: '2017-04-01',
						userstatus: '禁用',
						mail: 'yu@tasit.cn',
						workProperty: '属性1,属性2,属性4', //工作属性
						abilityAttributes: '产品1,产品4,产品6', //技能属性

					}],

				});
				//新增人员跳转新界面
				$('#btn_add').on('click', function() {
					location.href = 'createUser.html';
				})
				//删除人员
				$('#btn_delete').on('click', function() {
					var Array = $table.bootstrapTable('getSelections');
					if(Array.length == 0) {
						alert("请选择一条或多条用户信息进行删除");
						return;
					}
					$("#myModal2").modal('show')

				})
				$('#confirm_deleteuser').on('click', function() {
					var ids = $.map($table.bootstrapTable('getSelections'), function(row) {
						return row.id;
					});
					$table.bootstrapTable('remove', {
						field: 'id',
						values: ids
					});
					$('#myModal2').modal('toggle') //关闭模态框
				});
				//修改 员工信息记录
				$('#btn_edit').on('click', function() {
					//返回选中行数组集合，修改时判断是否为一条
					var Array = $table.bootstrapTable('getSelections');
					if(Array.length != 1) {
						alert("请选择一行来进行修改用户信息");
						return;
					} else { //只选了一行数据
						$('#name1').val(Array[0].user);
						$('#name2').val(Array[0].username);
						$('#name8').val('123456'); //密码
						$('#name4').val(Array[0].userposition);
						$('#name5').val(Array[0].phone);
						$('#name6').val(Array[0].mail);
						var obj = $('#name3');
						console.log(obj.nodeType);
						initSelectedValue(obj, Array[0].department); //设置部门
						initSelectedValue($('#name7'), Array[0].userstatus); //设置状态
						//设置工作属性
						var newAttribute = Array[0].workProperty.split(',');
						console.log(newAttribute);
						$('#jobAttributes').selectpicker('val', newAttribute);
						//设置产品属性
						var abilityAttributes = Array[0].abilityAttributes.split(',');
						console.log(abilityAttributes);
						$('#abilityAttributes').selectpicker('val', abilityAttributes);
					}
					$('#myModal').modal('show')
				});
			});

			function initSelectedValue(selObj, val) {
				var rights_text = val;
				var right_value;
				//				alert(selObj[0] == document.getElementById('name3'));
				console.log(selObj.nodeType);
				console.log($('#name7').nodeType);
				console.log(document.getElementById('name7').nodeType);
				if($('#name7').is(selObj)) {
					if(rights_text == "正常") {
						right_value = 0;
					} else if(rights_text == "禁用") {
						right_value = 1;
					}
				} else if($('#name3').is(selObj)) { //判断是否相等
					if(rights_text == "软件开发部") {
						right_value = 0;
					} else if(rights_text == "技术服务部") {
						right_value = 1;
					} else if(rights_text == "行政部") {
						right_value = 2;
					} else if(rights_text == "销售部") {
						right_value = 3;
					} else if(rights_text == "财务部") {
						right_value = 4;
					}
				}
				var options = selObj.find('option'); //找到option的数组
				var i;
				for(i = 0; i < options.length; i++) {
					if(options[i].value == right_value) { // 选项值与变量相同
						options[i].selected = true; //设置选中
						break;
					}
				}
			}

			function moveOption(e1, e2) {
				console.log(e1, e2);
				try {
					for(var i = 0; i < e1.options.length; i++) {
						if(e1.options[i].selected) {
							var e = e1.options[i];
							e2.options.add(new Option(e.text, e.value));
							e1.remove(i);
							i = i - 1;
						}
					}
				} catch(e) {}
			}
		</script>

		<!-- 模态框（Modal） -->
		<div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
			<div class="modal-dialog modal-lg">
				<div class="modal-content">
					<div class="modal-header">
						<button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
						<h4 class="modal-title" id="myModalLabel">修改内容</h4>
					</div>
					<div class="modal-body col-sm-12">
						<form action="">
							<div class="form-group col-sm-3">
								<label for="name1" class="control-label">用户名:</label>
								<input type="text" class="form-control" id="name1">
							</div>
							<div class="form-group col-sm-3">
								<label for="name2" class="control-label">姓名:</label>
								<input type="text" class="form-control" id="name2">
							</div>
							<div class="form-group col-sm-3">
								<!--<label for="name3" class="control-label">部门：</label>
								<input type="text" class="form-control" id="name3">-->
								<label for="name3" class="control-label">部门:</label>
								<select name="name3" id="name3" class="form-control">
									<option value="0">软件开发部</option>
									<option value="1">技术服务部</option>
									<option value="2">行政部</option>
									<option value="3">销售部</option>
									<option value="4">财务部</option>
								</select>
							</div>
							<div class="form-group col-sm-3">
								<label for="name4" class="control-label">职位:</label>
								<input type="text" class="form-control" id="name4">
							</div>
							<div class="form-group col-sm-3">
								<label for="name8" class="control-label">用户密码:</label>
								<input type="text" class="form-control" id="name8">
							</div>
							<div class="form-group col-sm-3">
								<label for="name5" class="control-label">联系电话：</label>
								<input type="text" class="form-control" id="name5">
							</div>
							<div class="form-group col-sm-3">
								<label for="name6" class="control-label">邮箱:</label>
								<input type="text" class="form-control" id="name6">
							</div>
							<div class="form-group col-sm-3">
								<!--<label for="name7" class="control-label">状态：</label>
								<input type="text" class="form-control" id="name7">-->
								<label for="name7" class="control-label">状态:</label>
								<select name="sendTo" id="name7" class="form-control">
									<option value="0">正常</option>
									<option value="1">禁用</option>
								</select>
							</div>
							<div class="form-group col-sm-6" style="">
								<label for="jobAttributes">工作属性：</label>
								<select id="jobAttributes" name="jobAttributes" class="selectpicker show-tick form-control" multiple title="请选择" data-actions-box="true" data-live-search="false">
									<option value="属性1">项目开发</option>
									<option value="属性2">产品交付</option>
									<option value="属性3">应约</option>
									<option value="属性4">应需</option>
									<option value="属性5">巡检</option>
									<option value="属性6">公司事务</option>
								</select>
							</div>
							<div class="form-group col-sm-6" style="">
								<label for="abilityAttributes">技能属性：</label>
								<select id="abilityAttributes" name="abilityAttributes" class="selectpicker show-tick form-control" multiple title="请选择" data-actions-box="true" data-live-search="true">
									<option value="产品1">产品1</option>
									<option value="产品2">产品2</option>
									<option value="产品3">产品3</option>
									<option value="产品4">产品4</option>
									<option value="产品5">产品5</option>
									<option value="产品6">产品6</option>
									<option value="产品7">产品7</option>
									<option value="产品8">产品8</option>
								</select>
							</div>
						</form>
					</div>
					<div class="modal-footer">
						<button type="button" class="btn btn-default" data-dismiss="modal">关闭</button>
						<button type="button" class="btn btn-primary">提交修改</button>
					</div>
				</div>
				<!-- /.modal-content -->
			</div>
			<!-- /.modal-dialog -->
		</div>
		<!-- /.modal -->

		<!-- 模态框2（Modal） -->
		<div class="modal fade" id="myModal2" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
			<div class="modal-dialog">
				<div class="modal-content">
					<div class="modal-header">
						<button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
						<h4 class="modal-title" id="myModalLabel">确认删除用户</h4>
					</div>
					<div class="modal-body">请您再次确认是否删除该用户信息。删除后无法恢复。</div>
					<div class="modal-footer">
						<button type="button" class="btn btn-default" data-dismiss="modal">取消</button>
						<button type="button" class="btn btn-primary" id="confirm_deleteuser">确认删除</button>
					</div>
				</div>
				<!-- /.modal-content -->
			</div>
			<!-- /.modal-dialog -->
		</div>
		<!-- /.modal -->

		<!-- 模态框3（Modal） -->

		<div class="modal fade bs-example-modal-lg" id="myModal3" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
			<div class="modal-dialog modal-lg">
				<div class="modal-content">
					<div class="modal-header">
						<button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
						<h4 class="modal-title" id="myModalLabel">请修改该用户角色权限</h4>
					</div>
					<div class="modal-body">
						<div id="demo1"></div>
						<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;修改完后点保存修改完成修改</p>
					</div>

					<div class="modal-footer">
						<button type="button" class="btn btn-default" data-dismiss="modal">取消</button>
						<button type="button" class="btn btn-primary" id="confirm_editUserRight">保存修改</button>
					</div>
				</div>
				<!-- /.modal-content -->
			</div>
			<!-- /.modal-dialog -->
		</div>
		<!-- /.modal -->

		<!--tab标签js代码-->
		<script>
			function resetTabs() {
				$("#content > div").hide(); //Hide all content
				$("#tabs a").attr("id", ""); //Reset id's      
			}

			var myUrl = window.location.href; //get URL
			var myUrlTab = myUrl.substring(myUrl.indexOf("#")); // For localhost/tabs.html#tab2, myUrlTab = #tab2     
			var myUrlTabName = myUrlTab.substring(0, 4); // For the above example, myUrlTabName = #tab
			(function() {
				$("#content > div").hide(); // Initially hide all content
				$("#tabs li:first a").attr("id", "current"); // Activate first tab
				$("#content > div:first").fadeIn(); // Show first tab content

				$(".tab_click").on("click", function(e) {
					e.preventDefault();
					if($(this).attr("id") == "current") { //detection for current tab
						return
					} else {
						resetTabs();
						$(this).attr("id", "current"); // Activate this
						$($(this).attr('name')).fadeIn(); // Show content for current tab
					}
				});
				
				for(i = 1; i <= $("#tabs li").length - 1; i++) {
					if(myUrlTab == myUrlTabName + i) {
						resetTabs();
						$("a[name='" + myUrlTab + "']").attr("id", "current"); // Activate url tab
						$(myUrlTab).fadeIn(); // Show url tab content        
					}
				}
			})();
		</script>
		
	</body>

</html>