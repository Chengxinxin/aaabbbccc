<!DOCTYPE html>
<html>

	<head>
		<meta charset="UTF-8">
		<!--Edge 模式通知 IE以最高级别的可用模式显示内容。即如果你有IE11的话那么就调用高版本的那个也就是IE11。-->
		<meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>  
		<title>TAS Work Center</title>
		<link rel="stylesheet" type="text/css" href="js/bootstrap.min.css" />
		<script src="js/jquery-3.1.1.min.js"></script>
		<script type="text/javascript" src="js/bootstrap.min.js"></script>

		<script type="text/javascript" src="js/menu.js"></script>
		<link rel="stylesheet" type="text/css" href="css/baseStyle.css" />
		<link rel="stylesheet" type="text/css" href="css/main.css" />
		<!-- 评分样式 -->
		<link rel="stylesheet" type="text/css" href="css/starGradeStyle.css" />
		<script type="text/javascript" src="js/comment.js"></script>
		<!--表格cssjs-->
		<link rel="stylesheet" type="text/css" href="js/bootstrap-table.css" />
		<script src="js/bootstrap-table.js" type="text/javascript" charset="utf-8"></script>
		<script src="js/bootstrap-table-zh-CN.js" type="text/javascript" charset="utf-8"></script>
		<link rel="stylesheet" type="text/css" href="css/tableStyle.css" />

		<link href="js/Fliter.css" rel="stylesheet" />
		<script src="js/Filter.js"></script>
		<!--多选插件-->
		<link rel="stylesheet" type="text/css" href="js/bootstrap-select.min.css" />
		<script src="js/bootstrap-select.min.js"></script>
	</head>

	<body>
		<div class="header">
			<div class="header_logo">
				<div class="logo">
					<img src="img/logo.png" />
				</div>
				<div class="title">
					<h1>并联科技个人工作中心</h1>
				</div>
			</div>
			<div class="userInfo">
				<h4><span class="glyphicon glyphicon-user" aria-hidden="true"></span> 姓名:</h4>
				<p>Neo</p>
				<h4><span class="glyphicon glyphicon-fire" aria-hidden="true"></span> 部门:</h4>
				<p>开发部</p>
				<h4><span class="glyphicon glyphicon-briefcase" aria-hidden="true"></span> 职位:</h4>
				<p>前端工程师</p>
				<a href="index.html"><span class="glyphicon glyphicon-home" aria-hidden="true"></span> 个人中心</a>
				<a href="login.html"><span class="glyphicon glyphicon-off" aria-hidden="true"></span> 注销</a>
			</div>
		</div>
		<div class="mainContent">
			<div class="leftNav">
				<!-- Contenedor -->
				<ul id="accordion" class="accordion">
					<li>
						<div class="link"><i class="glyphicon glyphicon-tasks"></i>个人中心 <i class="glyphicon glyphicon-menu-down"></i></div>
						<ul class="submenu">
							<li>
								<span class="glyphicon glyphicon-home" aria-hidden="true"></span>
								<a href="index.html">我的主页</a>
							</li>
							<li>
								<span class="glyphicon glyphicon-road" aria-hidden="true"></span>
								<a href="myTasks.html">我的任务</a>
							</li>
							<li>
								<span class="glyphicon glyphicon-cog" aria-hidden="true"></span>
								<a href="mySettings.html">我的设置</a>
							</li>
						</ul>
					</li>
					<li>
						<div class="link"><i class="glyphicon glyphicon-list-alt" aria-hidden="true"></i> 工作任务 <i class="glyphicon glyphicon-menu-down"></i></div>
						<ul class="submenu">
							<li>
								<span class="glyphicon glyphicon-pencil" aria-hidden="true"></span>
								<a href="createNewWorkGate.html">创建新工作</a>
							</li>
							<li>
								<span class="glyphicon glyphicon-eye-open" aria-hidden="true"></span>
								<a href="reviewTask.html">考核审批</a>
							</li>
							<li>
								<span class="glyphicon glyphicon-list" aria-hidden="true"></span>
								<a href="arrangedWork.html">待安排工作</a>
							</li>
						</ul>
					</li>
					<li>
						<div class="link"><i class="glyphicon glyphicon-folder-close"></i>合约管理 <i class="glyphicon glyphicon-menu-down"></i></div>
						<ul class="submenu">
							<li>
								<span class="glyphicon glyphicon-pushpin" aria-hidden="true"></span>
								<a href="myContractManagement.html">我的合约</a>
							</li>
							<li>
								<span class="glyphicon glyphicon-folder-open" aria-hidden="true"></span>
								<a href="createContractManagement.html">新建合约</a>
							</li>
							<li>
								<span class="glyphicon glyphicon-retweet" aria-hidden="true"></span>
								<a href="contractManagement.html">服务合约</a>
							</li>
						</ul>
					</li>
					<li>
						<div class="link"><i class="glyphicon glyphicon-link"></i>服务管理 <i class="glyphicon glyphicon-menu-down"></i></div>
						<ul class="submenu">
							<li>
								<span class="glyphicon glyphicon-bookmark" aria-hidden="true"></span>
								<a href="serviceManagementCustomerCenter.html">客户服务中心</a>
							</li>
							<li>
								<span class="glyphicon glyphicon-indent-right" aria-hidden="true"></span>
								<a href="ServiceManagerServiceStandards.html">服务标准管理</a>
							</li>
						</ul>
					</li>
					<li>
						<div class="link"><i class="glyphicon glyphicon-leaf"></i>统计 <i class="glyphicon glyphicon-menu-down"></i></div>
						<ul class="submenu">
							<li>
								<span class="glyphicon glyphicon-stats" aria-hidden="true"></span>
								<a href="taskWorkStatistics.html">工作任务统计</a>
							</li>
							<li>
								<span class="glyphicon glyphicon-align-justify" aria-hidden="true"></span>
								<a href="memberStatistics.html">员工管理</a>
							</li>
						</ul>
					</li>
				</ul>
				<p id="time"></p>
			</div>
			<div class="rightContent">
				<!--面包屑-->
				<ol class="breadcrumb">
					<li>
						<a href="#">统计</a>
					</li>
					<li class="active">员工管理</li>
				</ol>
				<!--标签-->
				<ul id="tabs">
					<li>
						<a href="memberStatistics.html#tab1" name="#tab1">员工信息列表</a>
					</li>
					<li>
						<a href="memberStatistics.html#tab2" name="#tab2">员工权限列表</a>
					</li>
					<li>
						<a href="memberStatistics_gate.html" name="#tab3" id="current">属性管理入口<span class="glyphicon glyphicon-share" aria-hidden="true" style="margin:7px 10px;font-size: 15px;"></span></a>
					</li>
				</ul>

				<div id="content">
					<div id="tab1">
						
					</div>
					<div id="tab2">
						
					</div>
					<!--tab2-->
					<style type="text/css">
						.form-control {
							font-size: 12px;
						}
						.attr_div {
							width: 800px;
							min-height: 35px;
						}
						.attr_div a i {
							font-size: 13px;
							cursor:pointer;
						}
						.attr_ul {}
						
						.attr_li {
							display: block;
							margin: 2px 5px;
							padding-left: 5px;
							text-align: center;
							font-size: 12px;
							float: left;
							height: 30px;
							line-height: 30px;
							min-width: 120px;
							border: dashed 1px #CCCCCC;
							border-radius: 4px;
							color: #949494;
						}
						
						.attr_li:hover {
							border: solid 1px #CCCCCC;
							background-color: #f1f1f1;
						}
						
						#addWorkAttr {
							display: inline-block;
							width: 160px;
						}
						
						#addWorkAttr_btn {
							display: inline-block;
						}
						.abilityattr_li {
							display: block;
							margin: 2px 5px;
							padding-left: 5px;
							text-align: center;
							font-size: 12px;
							float: left;
							height: 30px;
							line-height: 30px;
							min-width: 120px;
							border: dashed 1px #CCCCCC;
							border-radius: 4px;
							color: #949494;
						}
						.abilityattr_li:hover {
							border: solid 1px #CCCCCC;
							background-color: #f3f3f3;
						}
						/*表中数据垂直居中*/
						.table>tbody>tr>td {
							vertical-align: middle;
							text-align: center;
						}
					</style>
					<div id="tab3">
						<div id="" style="margin: 10px auto;">
							<h4>偏好属性设置</h4>
						</div>
						<div class="row" style="width: 1060px;margin: 5px 10px;">
							
							<div class="pull-left" style="vertical-align: middle;width: 780px;">
								<label style="display: inline-block;">添加：</label>
								<select name="" id="attribute_level1" class="form-control" style="display: inline-block; width: 120px;margin: 5px;">
									<option value="0">选择分类</option>
									<option value="着装要求">着装要求</option>
									<option value="工具要求">工具要求</option>
								</select>
								<input type="text" class="form-control" id="addWorkAttr" value="" />
								<input type="button" class="btn btn-primary" id="addWorkAttr_btn" value="添加" />
							</div>
						</div>
						<table class="table table-bordered" name="attrManageTable">
							<tr>
								<td>着装要求</td>
								<td>
									<div class="attr_div">
										<ul class="attr_ul" id="Attr_ul_row1">
											<li class="attr_li">休闲正装
												<a><i class="glyphicon glyphicon-remove remove_parentLi"> </i></a>
											</li>
											<li class="attr_li">西装
												<a><i class="glyphicon glyphicon-remove remove_parentLi"></i></a>
											</li>
										</ul>
									</div>
								</td>
							</tr>
							<tr>
								<td>工具要求</td>
								<td>
									<div class="attr_div">
										<ul class="attr_ul" id="Attr_ul_row2">
											<li class="attr_li">病毒定义更新光盘<a><i class="glyphicon glyphicon-remove remove_parentLi"></i></a>
											</li>
											<li class="attr_li">工具2<a><i class="glyphicon glyphicon-remove remove_parentLi"></i></a>
											</li>
										</ul>
										<script type="text/javascript">
											console.log($('#Attr_ul_row2 li'));
										</script>
									</div>
								</td>
							</tr>
							<tr>
								<td>关键字</td>
								<td>
									<div class="attr_div">
										<ul class="attr_ul" id="Attr_ul_row3">
											<li class="attr_li">关键字1<a><i class="glyphicon glyphicon-remove remove_parentLi"></i></a>
											</li>
											<li class="attr_li">关键字2<a><i class="glyphicon glyphicon-remove remove_parentLi"></i></a>
											</li>
										</ul>
										<script type="text/javascript">
											console.log($('#Attr_ul_row3 li'));
										</script>
									</div>
								</td>
							</tr>
						</table>
					</div>
					<!--tab3-->
				</div>

			</div>
		</div>
		<script type="text/javascript">
				
				//添加标签到工作属性
				$("#addWorkAttr_btn").on('click',function () {
					var duplicate = false; //查重
					var str = $("#addWorkAttr").val();
					var attribute_level_flag = ($('#attribute_level1').val() == 0);
					//select选择完才能添加，没选则无法添加
					if(attribute_level_flag) {
						alert("选项不能为空");
						return false;
					}
					if(str.length < 1) {
						alert("工作属性内容不能为空");
						return false;
					}
					$("#addWorkAttr").val("");//清空文本
					if ($('#attribute_level1').val()== "着装要求") {
						
						var olis = $("#Attr_ul_row1").find('li');
						 olis.each(function (index,item) {
							console.log(item.innerText,str);
							if($.trim(item.innerText) === str) { //去除结尾空格，气死我了
								alert('您添加的属性重复');
								duplicate = true;
								return false;
							}
						});
						console.log(duplicate);
						if (duplicate) {//重复了停止
							return false;
						}
					} else if ($('#attribute_level1').val()== "工具要求") {
						var olis = $("#Attr_ul_row2").find('li');
						 olis.each(function (index,item) {
							console.log(item.innerText,str);
							if($.trim(item.innerText) === str) { //去除结尾空格，气死我了
								alert('您添加的属性重复');
								duplicate = true;
								return false;
							}
						});
						console.log(duplicate);
						if (duplicate) {//重复了停止
							return false;
						}
					}
					
					var oLi=$("<li class='attr_li'></li>").html(str + "&nbsp;&nbsp;<a><i class='glyphicon glyphicon-remove remove_parentLi'></i></a>&nbsp;&nbsp;");  // 使用 jQuery 创建文本
//					oLi.on('click',function () {
//						var flag = confirm("是否删除?");
//						if (flag) {
//							$(this).remove();
//							//TODO返回服务器
//						}
//					});该方法是动态生成dom元素时再添加一次点击事件，没有下面哪种委托好
					//在何处添加
					alert(1);
					if ($('#attribute_level1').val()== "着装要求") {
						$("#Attr_ul_row1").append(oLi);
					} else if ($('#attribute_level1').val()== "工具要求") {
						$("#Attr_ul_row2").append(oLi);
					}
				});
				//动态添加dom元素，使用事件委托来实现，添加标签删除的点击事件
				$("body").on("click", ".remove_parentLi",function(e){
			     var flag = confirm("是否删除?");
						if (flag) {
							$(this).parent().parent().remove();
							//TODO返回服务器
						}
   				});
				
				
		</script>

		<!-- 模态框（Modal） -->
		<div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
			<div class="modal-dialog modal-lg">
				<div class="modal-content">
					<div class="modal-header">
						<button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
						<h4 class="modal-title" id="myModalLabel">修改内容</h4>
					</div>
					<div class="modal-body col-sm-12">
						<form action="">
							<div class="form-group col-sm-3">
								<label for="name1" class="control-label">用户名:</label>
								<input type="text" class="form-control" id="name1">
							</div>
							<div class="form-group col-sm-3">
								<label for="name2" class="control-label">姓名:</label>
								<input type="text" class="form-control" id="name2">
							</div>
							<div class="form-group col-sm-3">
								<!--<label for="name3" class="control-label">部门：</label>
								<input type="text" class="form-control" id="name3">-->
								<label for="name3" class="control-label">部门:</label>
								<select name="name3" id="name3" class="form-control">
									<option value="0">软件开发部</option>
									<option value="1">技术服务部</option>
									<option value="2">行政部</option>
									<option value="3">销售部</option>
									<option value="4">财务部</option>
								</select>
							</div>
							<div class="form-group col-sm-3">
								<label for="name4" class="control-label">职位:</label>
								<input type="text" class="form-control" id="name4">
							</div>
							<div class="form-group col-sm-3">
								<label for="name8" class="control-label">用户密码:</label>
								<input type="text" class="form-control" id="name8">
							</div>
							<div class="form-group col-sm-3">
								<label for="name5" class="control-label">联系电话：</label>
								<input type="text" class="form-control" id="name5">
							</div>
							<div class="form-group col-sm-3">
								<label for="name6" class="control-label">邮箱:</label>
								<input type="text" class="form-control" id="name6">
							</div>
							<div class="form-group col-sm-3">
								<!--<label for="name7" class="control-label">状态：</label>
								<input type="text" class="form-control" id="name7">-->
								<label for="name7" class="control-label">状态:</label>
								<select name="sendTo" id="name7" class="form-control">
									<option value="0">正常</option>
									<option value="1">禁用</option>
								</select>
							</div>
							<div class="form-group col-sm-6" style="">
								<label for="jobAttributes">工作属性：</label>
								<select id="jobAttributes" name="jobAttributes" class="selectpicker show-tick form-control" multiple title="请选择" data-actions-box="true" data-live-search="false">
									<option value="属性1">项目开发</option>
									<option value="属性2">产品交付</option>
									<option value="属性3">应约</option>
									<option value="属性4">应需</option>
									<option value="属性5">巡检</option>
									<option value="属性6">公司事务</option>
								</select>
							</div>
							<div class="form-group col-sm-6" style="">
								<label for="abilityAttributes">技能属性：</label>
								<select id="abilityAttributes" name="abilityAttributes" class="selectpicker show-tick form-control" multiple title="请选择" data-actions-box="true" data-live-search="true">
									<option value="产品1">产品1</option>
									<option value="产品2">产品2</option>
									<option value="产品3">产品3</option>
									<option value="产品4">产品4</option>
									<option value="产品5">产品5</option>
									<option value="产品6">产品6</option>
									<option value="产品7">产品7</option>
									<option value="产品8">产品8</option>
								</select>
							</div>
						</form>
					</div>
					<div class="modal-footer">
						<button type="button" class="btn btn-default" data-dismiss="modal">关闭</button>
						<button type="button" class="btn btn-primary">提交修改</button>
					</div>
				</div>
				<!-- /.modal-content -->
			</div>
			<!-- /.modal-dialog -->
		</div>
		<!-- /.modal -->

		<!-- 模态框2（Modal） -->
		<div class="modal fade" id="myModal2" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
			<div class="modal-dialog">
				<div class="modal-content">
					<div class="modal-header">
						<button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
						<h4 class="modal-title" id="myModalLabel">确认删除用户</h4>
					</div>
					<div class="modal-body">
						
					</div>
					<div class="modal-footer">
						<button type="button" class="btn btn-default" data-dismiss="modal">取消</button>
						<button type="button" class="btn btn-primary" id="confirm_deleteuser">确认删除</button>
					</div>
				</div>
				<!-- /.modal-content -->
			</div>
			<!-- /.modal-dialog -->
		</div>
		<!-- /.modal -->

		<!-- 模态框3（Modal） -->

		<div class="modal fade bs-example-modal-lg" id="myModal3" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
			<div class="modal-dialog modal-lg">
				<div class="modal-content">
					<div class="modal-header">
						<button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
						<h4 class="modal-title" id="myModalLabel">请修改该用户角色权限</h4>
					</div>
					<div class="modal-body">
						<div id="demo1"></div>
						<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;修改完后点保存修改完成修改</p>
					</div>

					<div class="modal-footer">
						<button type="button" class="btn btn-default" data-dismiss="modal">取消</button>
						<button type="button" class="btn btn-primary" id="confirm_editUserRight">保存修改</button>
					</div>
				</div>
				<!-- /.modal-content -->
			</div>
			<!-- /.modal-dialog -->
		</div>
		<!-- /.modal -->

		
	</body>

</html>